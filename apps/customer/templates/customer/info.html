{% extends 'home/base.html' %}


{% block title %}
    Thông tin tài khoản
{% endblock title %}

{% block navbar %}
    Tài khoản
{% endblock navbar %}

{% block content %}
<div class="content flex-row-fluid" id="kt_content">
    <!--begin::Pricing card-->
    <div class="card" id="kt_pricing">
        <!--begin::Card body-->
        <div class="card-body p-lg-17">
            <!--begin::Plans-->
            <div class="d-flex flex-column">
                <!--begin::account info-->
                <div class="fs-5 mb-2">
                    <span class="text-gray-800 fw-bolder me-1">Tài khoản</span>
                    <span class="text-gray-600 fw-bold">{{customer.username}}</span>
                </div>
                <div class="fs-5 mb-2">
                    <span class="text-gray-800 fw-bolder me-1">Email</span>
                    <span class="text-gray-600 fw-bold">{{customer.email}}</span>
                </div>
                <!--end::account info-->
                <!--begin::Menu separator-->
                <div class="separator my-2"></div>
                <!--end::Menu separator-->
                <!--begin::Change Password-->
                <form action="{% url 'customer:info' %}" class="form mb-15 fv-plugins-bootstrap5 fv-plugins-framework" method="post" id="kt_contact_form">
                    {% csrf_token %}
                    <div class="d-flex flex-column">
                        <div class="d-flex justify-content-between">
                            <h1 class="fw-bolder text-dark mb-9">Thay đổi mật khẩu</h1>
                        </div>
                        <!--begin::Show form.errors-->
                        {% if form.errors %}
                            {% for field in form %}
                                {% for error in field.errors %} 
                                    <div class="alert alert-danger">
                                        <strong>{{ error|escape }}</strong>
                                    </div>
                                {% endfor %}
                            {% endfor %}
                        {% endif %}
                        <!--end::Show form.errors-->
                        
                        <!--begin::Show message-->
                        {% if messages %}
                            {% for message in messages %}
                                <div class="alert alert-success">
                                    <strong>{{ message|escape }}</strong>
                                </div>
                            {% endfor %}
                        {% endif %}
                        <!--end::Show message-->

                        <div class="d-flex flex-column mb-5 fv-row">
                            <label for="password_cur" class="fs-5 fw-bold mb-2">Mật khẩu hiện tại</label>
                            {{form.password_cur}}
                        </div>
                        <div class="d-flex flex-column mb-5 fv-row">
                            <label for="password" class="fs-5 fw-bold mb-2">Mật khẩu mới</label>
                            {{form.password}}
                        </div>
                        <div class="d-flex flex-column mb-5 fv-row">
                            <label for="password_re" class="fs-5 fw-bold mb-2">Xác nhận mật khẩu mới</label>
                            {{form.password_re}}
                        </div>
                        <div class="d-flex justify-content-between">
                            <button type="submit" class="btn btn-primary btn-sm">Thay đổi</button>
                        </div>
                    </div>
                </form>
                <!--end::Change Password-->
            </div>
            <!--end::Plans-->
        </div>
        <!--end::Card body-->
    </div>
    <!--end::Pricing card-->
</div>
{% endblock content %}